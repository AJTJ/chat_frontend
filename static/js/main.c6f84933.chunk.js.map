{"version":3,"sources":["SocketApp/theme.js","SocketApp/AppWs/index.jsx","SocketApp/SignUpLogin/index.jsx","SocketApp/index.jsx","reportWebVitals.js","index.js"],"names":["bps","mq","map","bp","theme","facepaint","colors","color1","color2","color2Lighter","color3","color4","color5","Global","styles","p","css","color_1","MessageContainer","styled","div","indexNum","MessageName","span","isYou","MessageTime","MessageContent","MsgForm","form","MsgInput","input","AllChat","ChatSpaceContainer","AllMessagesContainer","AllUsersContainer","AllOnlineUsersContainer","UserName","AppWs","props","ws","reconnectingMsg","allMessages","allUsers","signedInUser","useState","messageValue","setMessageValue","length","message","i","nextIsSame","name","time","moment","utc","local","format","usr","onSubmit","e","preventDefault","jsonObject","JSON","stringify","current","send","onChange","target","value","placeholder","TitleBar","LoginZone","AuthZone","ServerMsg","AuthThings","SignedInUser","Form","AuthTitle","SignUpLogin","openSocket","cleanUpReceived","setReconnectingMsg","defaultConnectingMsg","wsMessage","setWsMessage","AMENDED_SERVER_ADDRESS","userName","setUserName","password","setPassword","isLoginForm","setIsLoginForm","closeSocket","close","resetWs","resetNamePassword","onClick","fetch","method","headers","credentials","then","res","isLogout","requestOptions","body","user_name","console","log","jsonData","json","catch","error","id","type","autoComplete","className","App","undefined","receivedData","setReceivedData","setAllMessages","setSignedInUser","setAllUsers","pleaseLoginMsg","SERVER_ADDRESS","WS_SERVER_ADDRESS","useRef","WebSocket","onopen","onmessage","data","onclose","useEffect","currentWS","receivedDataJSON","parse","all_messages","message_to_client","is_update","all_online_users","ExportedApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","SocketApp","document","getElementById"],"mappings":"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","file":"static/js/main.c6f84933.chunk.js","sourcesContent":["import { Global as EmoGlobal, css } from \"@emotion/react\";\n\nimport facepaint from \"facepaint\";\nconst bps = [\"400\", \"600\", \"800\", \"1060\"];\n\nexport const mq = bps.map((bp) => `@media (max-width: ${bp}px)`);\nexport const mqMin = bps.map((bp) => `@media (min-width: ${bp}px)`);\n\nexport const mqO = facepaint([\n  `@media(max-width: ${bps[3]}px)`,\n  `@media(max-width: ${bps[2]}px)`,\n  `@media(max-width: ${bps[1]}px)`,\n  `@media(max-width: ${bps[0]}px)`,\n]);\n\nexport const theme = {\n  colors: {\n    color1: \"#b7410e\",\n    color2: \"#f4f7be\",\n    color2Lighter: \"rgba(244, 247, 191, 0.61)\",\n    color3: \"#e5f77d\",\n    color4: \"#deba6f\",\n    color5: \"#1e000e\",\n  },\n};\n\nexport const Global = () => (\n  <EmoGlobal\n    styles={(p) => css`\n      * {\n        box-sizing: border-box;\n      }\n      html {\n        height: 100%;\n      }\n      body {\n        font-family: \"Lato\", sans-serif;\n        margin: 0;\n        padding: 0;\n        a {\n          text-decoration: none;\n          color: ${(p) => p.theme.colors.color_1};\n        }\n      }\n    `}\n  />\n);\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport moment from \"moment\";\nimport { mq } from \"../theme\";\n\nconst MessageContainer = styled.div`\n  padding: 0 5px;\n  /* background: ${(p) =>\n    p.indexNum % 2 === 0 ? p.theme.colors.color2Lighter : \"none\"}; */\n`;\n\nconst MessageName = styled.span`\n  color: ${(p) => p.isYou && p.theme.colors.color1};\n  font-weight: ${(p) => (p.isYou ? \"bolder\" : \"bold\")};\n  font-size: 12px;\n  padding: 15px 15px 0 0;\n  display: inline-block;\n`;\n\nconst MessageTime = styled.span`\n  color: ${(p) => p.theme.colors.color4};\n  font-size: 11px;\n`;\n\nconst MessageContent = styled.div`\n  padding: 2px 0;\n  font-size: 12px;\n  line-height: 15px;\n`;\n\nconst MsgForm = styled.form`\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  margin: 0;\n  padding: 10px 0 0;\n  background: ${(p) => p.theme.colors.color2};\n`;\n\nconst MsgInput = styled.input`\n  width: calc(100% - 6px);\n  background: white;\n  border-radius: 3px;\n  padding: 10px 3px;\n  resize: none;\n  margin: 0 3px;\n`;\n\nconst AllChat = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background: ${(p) => p.theme.colors.color2};\n`;\n\nconst ChatSpaceContainer = styled.div`\n  display: flex;\n  border: 1px solid ${(p) => p.theme.colors.color1};\n  border-radius: 3px;\n  /* padding: 0 5px 0; */\n  margin: 0 5px;\n  background: white;\n  height: calc(100vh - 60px - 90px);\n`;\n\nconst AllMessagesContainer = styled.div`\n  width: calc(100% - 120px);\n  /* overflow: scroll; */\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column-reverse;\n  flex-grow: 1;\n`;\n\nconst AllUsersContainer = styled.div`\n  width: 120px;\n  padding-left: 10px;\n  overflow: hidden;\n  border-left: ${(p) => p.theme.colors.color4} 1px solid;\n  ${mq[2]} {\n    width: 75px;\n    font-size: 10px;\n  }\n`;\n\nconst AllOnlineUsersContainer = styled.div`\n  padding-top: 5px;\n  padding-bottom: 50px;\n  overflow-y: scroll;\n  /* overflow-x: hidden; */\n  height: 100%;\n  /* max-height: calc(100vh - 60px - 250px); */\n`;\n\n// const CurUsersTitle = styled.div`\n//   color: ${(p) => p.theme.colors.color1};\n//   font-weight: bold;\n//   padding-bottom: 5px;\n//   /* position: fixed; */\n// `;\n\nconst UserName = styled.div`\n  font-size: 12px;\n  font-weight: ${(p) => (p.isYou ? \"bold\" : \"normal\")};\n  /* text-decoration: ${(p) => p.isYou && \"underline\"}; */\n  ${mq[2]} {\n    /* width: 75px; */\n    font-size: 10px;\n  }\n`;\n\nexport const AppWs = (props) => {\n  const { ws, reconnectingMsg, allMessages, allUsers, signedInUser } = props;\n  const [messageValue, setMessageValue] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const jsonObject = JSON.stringify({\n      message: messageValue,\n    });\n    ws?.current?.send && ws?.current?.send(jsonObject);\n\n    setMessageValue(\"\");\n  };\n\n  const handleChange = (e) => {\n    setMessageValue(e.target.value);\n  };\n\n  return (\n    <AllChat>\n      <>\n        <ChatSpaceContainer>\n          <AllMessagesContainer>\n            {!!allMessages?.length\n              ? allMessages?.map((message, i) => {\n                  let nextIsSame = allMessages[i + 1]?.name === message.name;\n                  let time = moment\n                    .utc(message?.time)\n                    .local()\n                    .format(\"h:mm:ss a, D MMM YY\");\n                  return (\n                    <MessageContainer\n                      key={message?.message + i + message?.time}\n                      indexNum={i}\n                    >\n                      <div key={message?.time + message?.message}>\n                        {!nextIsSame && (\n                          <>\n                            <MessageName isYou={message?.name === signedInUser}>\n                              {message?.name}\n                            </MessageName>\n                            <MessageTime>{time}</MessageTime>\n                          </>\n                        )}\n                        <MessageContent>{message?.message}</MessageContent>\n                      </div>\n                    </MessageContainer>\n                  );\n                })\n              : reconnectingMsg && (\n                  <MessageContainer>\n                    <MessageName>From the server</MessageName>\n                    <MessageContent>{reconnectingMsg}</MessageContent>\n                  </MessageContainer>\n                )}\n          </AllMessagesContainer>\n          <AllUsersContainer>\n            <AllOnlineUsersContainer>\n              {/* <CurUsersTitle>Current users</CurUsersTitle> */}\n              {signedInUser && !allUsers?.length ? (\n                <UserName>...Nobody here</UserName>\n              ) : !signedInUser && !allUsers?.length ? (\n                <UserName>Please Login</UserName>\n              ) : (\n                <>\n                  {allUsers.map((usr, i) => {\n                    return (\n                      <UserName key={i + usr} isYou={usr === signedInUser}>\n                        {/* {usr === signedInUser ? `${usr} (you)` : usr} */}\n                        {usr === signedInUser ? `⭐️  ${usr}` : usr}\n                      </UserName>\n                    );\n                  })}\n                </>\n              )}\n            </AllOnlineUsersContainer>\n          </AllUsersContainer>\n        </ChatSpaceContainer>\n        <MsgForm onSubmit={handleSubmit}>\n          <MsgInput\n            onChange={handleChange}\n            placeholder={\"write a message\"}\n            value={messageValue}\n          />\n        </MsgForm>\n      </>\n    </AllChat>\n  );\n};\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { mq } from \"../theme\";\n\nlet TitleBar = styled.div`\n  color: ${(p) => p.theme.colors.color1};\n  font-size: 25px;\n  font-weight: bolder;\n  background: ${(p) => p.theme.colors.color2};\n  text-align: center;\n  /* padding: 10px 0; */\n  height: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nlet LoginZone = styled.div`\n  width: 100%;\n  height: 90px;\n`;\n\nlet AuthZone = styled.div`\n  height: 50px;\n  background: ${(p) => p.theme.colors.color2};\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px;\n  font-size: 14px;\n\n  input[type=\"submit\"],\n  button {\n    border-radius: 10px;\n    margin: 0 2px;\n    border: none;\n    background: ${(p) => p.theme.colors.color1};\n    color: ${(p) => p.theme.colors.color2};\n    padding: 4px 2px;\n    width: 45px;\n    font-size: 10px;\n  }\n  .alt {\n    background: ${(p) => p.theme.colors.color4};\n    color: ${(p) => p.theme.colors.color2};\n  }\n  ${mq[2]} {\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 5px 0;\n  }\n`;\n\nlet ServerMsg = styled.div`\n  height: 15px;\n  display: flex;\n  align-items: center;\n`;\n\nlet AuthThings = styled.div`\n  display: flex;\n  align-items: center;\n  height: 20px;\n`;\n\nlet SignedInUser = styled.div`\n  padding-right: 10px;\n`;\n\nlet Form = styled.form`\n  display: flex;\n  align-items: center;\n  input[type=\"text\"],\n  input[type=\"password\"] {\n    height: 28px;\n    margin-right: 5px;\n    border-radius: 5px;\n    border: 1px solid black;\n    padding: 5px;\n    /* margin-top: 2px; */\n    font-size: 12px;\n    ${mq[2]} {\n      font-size: 10px;\n      width: 100px;\n      height: 20px;\n    }\n  }\n`;\n\nlet AuthTitle = styled.div`\n  padding-right: 5px;\n  ${mq[2]} {\n    width: 50px;\n    font-size: 10px;\n    text-align: right;\n  }\n`;\n\nexport const SignUpLogin = ({\n  ws,\n  openSocket,\n  setReconnectingMsg,\n  cleanUpReceived,\n  defaultConnectingMsg,\n  signedInUser,\n  reconnectingMsg,\n  wsMessage,\n  setWsMessage,\n  AMENDED_SERVER_ADDRESS,\n}) => {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginForm, setIsLoginForm] = useState(true);\n\n  // HIDE/SHOW authform\n\n  const closeSocket = (props) => {\n    ws?.current?.close();\n    cleanUpReceived(props);\n  };\n\n  const resetWs = () => {\n    resetNamePassword();\n    closeSocket();\n    openSocket();\n  };\n\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({ user_name: userName, password: password }),\n    };\n    fetch(`${AMENDED_SERVER_ADDRESS}/signup/`, requestOptions).then((res) => {\n      res.json().then((body) => setWsMessage(body));\n      resetWs();\n    });\n  };\n\n  const handleSignIn = (e) => {\n    e.preventDefault();\n    const requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({ user_name: userName, password: password }),\n    };\n    fetch(`${AMENDED_SERVER_ADDRESS}/login/`, requestOptions)\n      .then((res) => {\n        console.log(res);\n        const jsonData = res.json();\n        console.log({ jsonData });\n        jsonData.then((body) => setWsMessage(body));\n        resetWs();\n      })\n      .catch((e) => {\n        console.error(\"sign in error\", e);\n      });\n  };\n\n  const handleLogOut = (e) => {\n    e.preventDefault();\n    const requestOptions = {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      // body: JSON.stringify({ user_name: userName, password: password }),\n    };\n    fetch(`${AMENDED_SERVER_ADDRESS}/logout/`, requestOptions).then((res) => {\n      closeSocket({ isLogout: true });\n    });\n  };\n\n  const handleUserChange = (e) => {\n    setUserName(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const resetNamePassword = () => {\n    setUserName(\"\");\n    setPassword(\"\");\n  };\n\n  return (\n    <LoginZone>\n      <TitleBar>Rusty Chat</TitleBar>\n      <AuthZone>\n        <ServerMsg>{wsMessage && <div>{wsMessage}</div>}</ServerMsg>\n        <AuthThings>\n          {!signedInUser ? (\n            <>\n              <AuthTitle>{isLoginForm ? \"Login\" : \"Sign Up\"}:</AuthTitle>\n              <Form onSubmit={isLoginForm ? handleSignIn : handleSignUp}>\n                <input\n                  id=\"userInput\"\n                  type=\"text\"\n                  placeholder=\"Name\"\n                  autoComplete=\"username\"\n                  onChange={handleUserChange}\n                  value={userName}\n                />\n                <input\n                  id=\"passwordInput\"\n                  placeholder=\"password\"\n                  type=\"password\"\n                  autoComplete={\n                    isLoginForm ? \"current-password\" : \"new-password\"\n                  }\n                  onChange={handlePasswordChange}\n                  value={password}\n                />\n                <input type=\"submit\" value=\"Submit\" />\n              </Form>\n              <button\n                className=\"alt\"\n                onClick={() => {\n                  resetNamePassword();\n                  setIsLoginForm(!isLoginForm);\n                }}\n              >\n                {isLoginForm ? \"Sign Up\" : \"Login\"}\n              </button>\n            </>\n          ) : (\n            <>\n              {signedInUser && (\n                <SignedInUser>Welcome, {signedInUser}</SignedInUser>\n              )}\n              <button onClick={handleLogOut}>Log out</button>\n            </>\n          )}\n        </AuthThings>\n      </AuthZone>\n    </LoginZone>\n  );\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { AppWs } from \"./AppWs\";\nimport { SignUpLogin } from \"./SignUpLogin\";\n// import testData from \"./test.json\";\nimport { Global, theme } from \"./theme\";\nimport { ThemeProvider } from \"@emotion/react\";\n\nconst App = () => {\n  // DATA from server\n  // const [receivedData, setReceivedData] = useState(JSON.stringify(testData));\n  const [receivedData, setReceivedData] = useState(undefined);\n  const [wsMessage, setWsMessage] = useState(undefined);\n  const [allMessages, setAllMessages] = useState([]);\n  const [signedInUser, setSignedInUser] = useState(undefined);\n  const [allUsers, setAllUsers] = useState([]);\n  const [reconnectingMsg, setReconnectingMsg] = useState(undefined);\n\n  const defaultConnectingMsg = \"Attempting to Connect\";\n  const pleaseLoginMsg = \"Please login or register\";\n\n  //68.183.138.33:8081;\n\n  // LOCAL SETUP\n  const SERVER_ADDRESS = \"//127.0.0.1:8081\";\n  const WS_SERVER_ADDRESS = `ws:${SERVER_ADDRESS}/ws/`;\n  const AMENDED_SERVER_ADDRESS = `http:${SERVER_ADDRESS}`;\n\n  // PROD SETUP\n  // const SERVER_ADDRESS = \"//chat.freedivingsource.com\";\n  // const WS_SERVER_ADDRESS = `wss:${SERVER_ADDRESS}/ws/`;\n  // const AMENDED_SERVER_ADDRESS = `https:${SERVER_ADDRESS}`;\n\n  // FRONT END SOCKET\n  const ws = useRef(null);\n\n  const cleanUpReceived = (props) => {\n    const { isLogout } = props || {};\n    setReceivedData(undefined);\n    setAllMessages([]);\n    setSignedInUser(undefined);\n    setAllUsers([]);\n    setWsMessage(isLogout ? pleaseLoginMsg : undefined);\n  };\n\n  const openSocket = (props) => {\n    setReconnectingMsg(defaultConnectingMsg);\n\n    // origin: \"https://chat.freedivingsource.com\"\n    // setTimeout(() => {\n    ws.current = new WebSocket(WS_SERVER_ADDRESS);\n\n    if (ws.current) {\n      ws.current.onopen = () => {\n        console.log(\"ws opened\");\n        // reset messages\n        setWsMessage(undefined);\n        setReconnectingMsg(undefined);\n        if (ws?.current) {\n          ws.current.onmessage = (e) => {\n            setReceivedData(e.data);\n          };\n        }\n      };\n      ws.current.onclose = () => {\n        console.log(\"ws closed\");\n        if (!wsMessage) setWsMessage(pleaseLoginMsg);\n      };\n    }\n    setReconnectingMsg(undefined);\n    // }, 2000);\n  };\n\n  // open the socket on page load\n  useEffect(() => {\n    openSocket();\n\n    const currentWS = ws?.current;\n\n    return () => {\n      // close the socket\n      currentWS?.close();\n    };\n  }, []);\n\n  useEffect(() => {\n    const receivedDataJSON = receivedData ? JSON.parse(receivedData) : {};\n\n    if (receivedDataJSON?.all_messages) {\n      setAllMessages(JSON.parse(receivedDataJSON.all_messages));\n    } else {\n      setAllMessages([]);\n    }\n\n    if (receivedDataJSON?.message_to_client) {\n      setWsMessage(receivedDataJSON.message_to_client);\n    } else if (!receivedDataJSON?.is_update) {\n      setWsMessage(wsMessage);\n    }\n\n    if (receivedDataJSON?.user_name) {\n      setSignedInUser(receivedDataJSON.user_name);\n    } else {\n      setSignedInUser(undefined);\n    }\n\n    if (receivedDataJSON?.all_online_users) {\n      setAllUsers(receivedDataJSON.all_online_users);\n    } else {\n      setAllUsers([]);\n    }\n  }, [receivedData]);\n\n  return (\n    <div>\n      <SignUpLogin\n        {...{\n          ws,\n          openSocket,\n          setReconnectingMsg,\n          cleanUpReceived,\n          defaultConnectingMsg,\n          reconnectingMsg,\n          wsMessage,\n          setWsMessage,\n          signedInUser,\n          AMENDED_SERVER_ADDRESS,\n        }}\n      />\n      <AppWs\n        {...{\n          ws,\n          reconnectingMsg,\n          allMessages,\n          allUsers,\n          signedInUser,\n        }}\n      />\n    </div>\n  );\n};\n\nconst ExportedApp = () => (\n  <ThemeProvider theme={theme}>\n    <Global />\n    <App />\n  </ThemeProvider>\n);\n\nexport default ExportedApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport SocketApp from \"./SocketApp\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SocketApp />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}